{"ast":null,"code":"/*\n * Copyright 2016 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nvar now = require('./now');\nfunction tween(duration, update, done) {\n  var cancelled = false;\n  var startTime = now();\n  function runUpdate() {\n    if (cancelled) {\n      return;\n    }\n    var tweenVal = (now() - startTime) / duration;\n    if (tweenVal < 1) {\n      update(tweenVal);\n      requestAnimationFrame(runUpdate);\n    } else {\n      update(1);\n      done();\n    }\n  }\n  update(0);\n  requestAnimationFrame(runUpdate);\n  return function cancel() {\n    cancelled = true;\n    done.apply(null, arguments);\n  };\n}\nmodule.exports = tween;","map":{"version":3,"names":["now","require","tween","duration","update","done","cancelled","startTime","runUpdate","tweenVal","requestAnimationFrame","cancel","apply","arguments","module","exports"],"sources":["E:/VR/node_modules/marzipano/src/util/tween.js"],"sourcesContent":["/*\n * Copyright 2016 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nvar now = require('./now');\n\nfunction tween(duration, update, done) {\n  var cancelled = false;\n\n  var startTime = now();\n\n  function runUpdate() {\n    if(cancelled) { return; }\n    var tweenVal = (now() - startTime)/duration;\n    if(tweenVal < 1) {\n      update(tweenVal);\n      requestAnimationFrame(runUpdate);\n    }\n    else {\n      update(1);\n      done();\n    }\n  }\n\n  update(0);\n  requestAnimationFrame(runUpdate);\n\n  return function cancel() {\n    cancelled = true;\n    done.apply(null, arguments);\n  }\n}\n\nmodule.exports = tween;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,IAAIA,GAAG,GAAGC,OAAO,CAAC,OAAO,CAAC;AAE1B,SAASC,KAAKA,CAACC,QAAQ,EAAEC,MAAM,EAAEC,IAAI,EAAE;EACrC,IAAIC,SAAS,GAAG,KAAK;EAErB,IAAIC,SAAS,GAAGP,GAAG,CAAC,CAAC;EAErB,SAASQ,SAASA,CAAA,EAAG;IACnB,IAAGF,SAAS,EAAE;MAAE;IAAQ;IACxB,IAAIG,QAAQ,GAAG,CAACT,GAAG,CAAC,CAAC,GAAGO,SAAS,IAAEJ,QAAQ;IAC3C,IAAGM,QAAQ,GAAG,CAAC,EAAE;MACfL,MAAM,CAACK,QAAQ,CAAC;MAChBC,qBAAqB,CAACF,SAAS,CAAC;IAClC,CAAC,MACI;MACHJ,MAAM,CAAC,CAAC,CAAC;MACTC,IAAI,CAAC,CAAC;IACR;EACF;EAEAD,MAAM,CAAC,CAAC,CAAC;EACTM,qBAAqB,CAACF,SAAS,CAAC;EAEhC,OAAO,SAASG,MAAMA,CAAA,EAAG;IACvBL,SAAS,GAAG,IAAI;IAChBD,IAAI,CAACO,KAAK,CAAC,IAAI,EAAEC,SAAS,CAAC;EAC7B,CAAC;AACH;AAEAC,MAAM,CAACC,OAAO,GAAGb,KAAK"},"metadata":{},"sourceType":"script","externalDependencies":[]}