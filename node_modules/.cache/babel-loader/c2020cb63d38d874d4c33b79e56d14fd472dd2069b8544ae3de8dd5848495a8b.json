{"ast":null,"code":"/*\n * Copyright 2016 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\n(function () {\n  var Marzipano = window.Marzipano;\n  var bowser = window.bowser;\n  var screenfull = window.screenfull;\n  var data = window.APP_DATA;\n\n  // Grab elements from DOM.\n  var panoElement = document.querySelector('#pano');\n  var sceneNameElement = document.querySelector('#titleBar .sceneName');\n  var sceneListElement = document.querySelector('#sceneList');\n  var sceneElements = document.querySelectorAll('#sceneList .scene');\n  var sceneListToggleElement = document.querySelector('#sceneListToggle');\n  var autorotateToggleElement = document.querySelector('#autorotateToggle');\n  var fullscreenToggleElement = document.querySelector('#fullscreenToggle');\n\n  // Detect desktop or mobile mode.\n  if (window.matchMedia) {\n    var setMode = function () {\n      if (mql.matches) {\n        document.body.classList.remove('desktop');\n        document.body.classList.add('mobile');\n      } else {\n        document.body.classList.remove('mobile');\n        document.body.classList.add('desktop');\n      }\n    };\n    var mql = matchMedia(\"(max-width: 500px), (max-height: 500px)\");\n    setMode();\n    mql.addListener(setMode);\n  } else {\n    document.body.classList.add('desktop');\n  }\n\n  // Detect whether we are on a touch device.\n  document.body.classList.add('no-touch');\n  window.addEventListener('touchstart', function () {\n    document.body.classList.remove('no-touch');\n    document.body.classList.add('touch');\n  });\n\n  // Use tooltip fallback mode on IE < 11.\n  if (bowser.msie && parseFloat(bowser.version) < 11) {\n    document.body.classList.add('tooltip-fallback');\n  }\n\n  // Viewer options.\n  var viewerOpts = {\n    controls: {\n      mouseViewMode: data.settings.mouseViewMode\n    }\n  };\n\n  // Initialize viewer.\n  var viewer = new Marzipano.Viewer(panoElement, viewerOpts);\n\n  // Create scenes.\n  var scenes = data.scenes.map(function (data) {\n    var urlPrefix = \"tiles\";\n    var source = Marzipano.ImageUrlSource.fromString(urlPrefix + \"/\" + data.id + \"/{z}/{f}/{y}/{x}.jpg\", {\n      cubeMapPreviewUrl: urlPrefix + \"/\" + data.id + \"/preview.jpg\"\n    });\n    var geometry = new Marzipano.CubeGeometry(data.levels);\n    var limiter = Marzipano.RectilinearView.limit.traditional(data.faceSize, 100 * Math.PI / 180, 120 * Math.PI / 180);\n    var view = new Marzipano.RectilinearView(data.initialViewParameters, limiter);\n    var scene = viewer.createScene({\n      source: source,\n      geometry: geometry,\n      view: view,\n      pinFirstLevel: true\n    });\n\n    // Create link hotspots.\n    data.linkHotspots.forEach(function (hotspot) {\n      var element = createLinkHotspotElement(hotspot);\n      scene.hotspotContainer().createHotspot(element, {\n        yaw: hotspot.yaw,\n        pitch: hotspot.pitch\n      });\n    });\n\n    // Create info hotspots.\n    data.infoHotspots.forEach(function (hotspot) {\n      var element = createInfoHotspotElement(hotspot);\n      scene.hotspotContainer().createHotspot(element, {\n        yaw: hotspot.yaw,\n        pitch: hotspot.pitch\n      });\n    });\n    return {\n      data: data,\n      scene: scene,\n      view: view\n    };\n  });\n\n  // Set up autorotate, if enabled.\n  var autorotate = Marzipano.autorotate({\n    yawSpeed: 0.03,\n    targetPitch: 0,\n    targetFov: Math.PI / 2\n  });\n  if (data.settings.autorotateEnabled) {\n    autorotateToggleElement.classList.add('enabled');\n  }\n\n  // Set handler for autorotate toggle.\n  autorotateToggleElement.addEventListener('click', toggleAutorotate);\n\n  // Set up fullscreen mode, if supported.\n  if (screenfull.enabled && data.settings.fullscreenButton) {\n    document.body.classList.add('fullscreen-enabled');\n    fullscreenToggleElement.addEventListener('click', function () {\n      screenfull.toggle();\n    });\n    screenfull.on('change', function () {\n      if (screenfull.isFullscreen) {\n        fullscreenToggleElement.classList.add('enabled');\n      } else {\n        fullscreenToggleElement.classList.remove('enabled');\n      }\n    });\n  } else {\n    document.body.classList.add('fullscreen-disabled');\n  }\n\n  // Set handler for scene list toggle.\n  sceneListToggleElement.addEventListener('click', toggleSceneList);\n\n  // Start with the scene list open on desktop.\n  if (!document.body.classList.contains('mobile')) {\n    showSceneList();\n  }\n\n  // Set handler for scene switch.\n  scenes.forEach(function (scene) {\n    var el = document.querySelector('#sceneList .scene[data-id=\"' + scene.data.id + '\"]');\n    el.addEventListener('click', function () {\n      switchScene(scene);\n      // On mobile, hide scene list after selecting a scene.\n      if (document.body.classList.contains('mobile')) {\n        hideSceneList();\n      }\n    });\n  });\n\n  // DOM elements for view controls.\n  var viewUpElement = document.querySelector('#viewUp');\n  var viewDownElement = document.querySelector('#viewDown');\n  var viewLeftElement = document.querySelector('#viewLeft');\n  var viewRightElement = document.querySelector('#viewRight');\n  var viewInElement = document.querySelector('#viewIn');\n  var viewOutElement = document.querySelector('#viewOut');\n\n  // Dynamic parameters for controls.\n  var velocity = 0.7;\n  var friction = 3;\n\n  // Associate view controls with elements.\n  var controls = viewer.controls();\n  controls.registerMethod('upElement', new Marzipano.ElementPressControlMethod(viewUpElement, 'y', -velocity, friction), true);\n  controls.registerMethod('downElement', new Marzipano.ElementPressControlMethod(viewDownElement, 'y', velocity, friction), true);\n  controls.registerMethod('leftElement', new Marzipano.ElementPressControlMethod(viewLeftElement, 'x', -velocity, friction), true);\n  controls.registerMethod('rightElement', new Marzipano.ElementPressControlMethod(viewRightElement, 'x', velocity, friction), true);\n  controls.registerMethod('inElement', new Marzipano.ElementPressControlMethod(viewInElement, 'zoom', -velocity, friction), true);\n  controls.registerMethod('outElement', new Marzipano.ElementPressControlMethod(viewOutElement, 'zoom', velocity, friction), true);\n  function sanitize(s) {\n    return s.replace('&', '&amp;').replace('<', '&lt;').replace('>', '&gt;');\n  }\n  function switchScene(scene) {\n    stopAutorotate();\n    scene.view.setParameters(scene.data.initialViewParameters);\n    scene.scene.switchTo();\n    startAutorotate();\n    updateSceneName(scene);\n    updateSceneList(scene);\n  }\n  function updateSceneName(scene) {\n    sceneNameElement.innerHTML = sanitize(scene.data.name);\n  }\n  function updateSceneList(scene) {\n    for (var i = 0; i < sceneElements.length; i++) {\n      var el = sceneElements[i];\n      if (el.getAttribute('data-id') === scene.data.id) {\n        el.classList.add('current');\n      } else {\n        el.classList.remove('current');\n      }\n    }\n  }\n  function showSceneList() {\n    sceneListElement.classList.add('enabled');\n    sceneListToggleElement.classList.add('enabled');\n  }\n  function hideSceneList() {\n    sceneListElement.classList.remove('enabled');\n    sceneListToggleElement.classList.remove('enabled');\n  }\n  function toggleSceneList() {\n    sceneListElement.classList.toggle('enabled');\n    sceneListToggleElement.classList.toggle('enabled');\n  }\n  function startAutorotate() {\n    if (!autorotateToggleElement.classList.contains('enabled')) {\n      return;\n    }\n    viewer.startMovement(autorotate);\n    viewer.setIdleMovement(3000, autorotate);\n  }\n  function stopAutorotate() {\n    viewer.stopMovement();\n    viewer.setIdleMovement(Infinity);\n  }\n  function toggleAutorotate() {\n    if (autorotateToggleElement.classList.contains('enabled')) {\n      autorotateToggleElement.classList.remove('enabled');\n      stopAutorotate();\n    } else {\n      autorotateToggleElement.classList.add('enabled');\n      startAutorotate();\n    }\n  }\n  function createLinkHotspotElement(hotspot) {\n    // Create wrapper element to hold icon and tooltip.\n    var wrapper = document.createElement('div');\n    wrapper.classList.add('hotspot');\n    wrapper.classList.add('link-hotspot');\n\n    // Create image element.\n    var icon = document.createElement('img');\n    icon.src = 'img/link.png';\n    icon.classList.add('link-hotspot-icon');\n\n    // Set rotation transform.\n    var transformProperties = ['-ms-transform', '-webkit-transform', 'transform'];\n    for (var i = 0; i < transformProperties.length; i++) {\n      var property = transformProperties[i];\n      icon.style[property] = 'rotate(' + hotspot.rotation + 'rad)';\n    }\n\n    // Add click event handler.\n    wrapper.addEventListener('click', function () {\n      switchScene(findSceneById(hotspot.target));\n    });\n\n    // Prevent touch and scroll events from reaching the parent element.\n    // This prevents the view control logic from interfering with the hotspot.\n    stopTouchAndScrollEventPropagation(wrapper);\n\n    // Create tooltip element.\n    var tooltip = document.createElement('div');\n    tooltip.classList.add('hotspot-tooltip');\n    tooltip.classList.add('link-hotspot-tooltip');\n    tooltip.innerHTML = findSceneDataById(hotspot.target).name;\n    wrapper.appendChild(icon);\n    wrapper.appendChild(tooltip);\n    return wrapper;\n  }\n  function createInfoHotspotElement(hotspot) {\n    // Create wrapper element to hold icon and tooltip.\n    var wrapper = document.createElement('div');\n    wrapper.classList.add('hotspot');\n    wrapper.classList.add('info-hotspot');\n\n    // Create hotspot/tooltip header.\n    var header = document.createElement('div');\n    header.classList.add('info-hotspot-header');\n\n    // Create image element.\n    var iconWrapper = document.createElement('div');\n    iconWrapper.classList.add('info-hotspot-icon-wrapper');\n    var icon = document.createElement('img');\n    icon.src = 'img/info.png';\n    icon.classList.add('info-hotspot-icon');\n    iconWrapper.appendChild(icon);\n\n    // Create title element.\n    var titleWrapper = document.createElement('div');\n    titleWrapper.classList.add('info-hotspot-title-wrapper');\n    var title = document.createElement('div');\n    title.classList.add('info-hotspot-title');\n    title.innerHTML = hotspot.title;\n    titleWrapper.appendChild(title);\n\n    // Create close element.\n    var closeWrapper = document.createElement('div');\n    closeWrapper.classList.add('info-hotspot-close-wrapper');\n    var closeIcon = document.createElement('img');\n    closeIcon.src = 'img/close.png';\n    closeIcon.classList.add('info-hotspot-close-icon');\n    closeWrapper.appendChild(closeIcon);\n\n    // Construct header element.\n    header.appendChild(iconWrapper);\n    header.appendChild(titleWrapper);\n    header.appendChild(closeWrapper);\n\n    // Create text element.\n    var text = document.createElement('div');\n    text.classList.add('info-hotspot-text');\n    text.innerHTML = hotspot.text;\n\n    // Place header and text into wrapper element.\n    wrapper.appendChild(header);\n    wrapper.appendChild(text);\n\n    // Create a modal for the hotspot content to appear on mobile mode.\n    var modal = document.createElement('div');\n    modal.innerHTML = wrapper.innerHTML;\n    modal.classList.add('info-hotspot-modal');\n    document.body.appendChild(modal);\n    var toggle = function () {\n      wrapper.classList.toggle('visible');\n      modal.classList.toggle('visible');\n    };\n\n    // Show content when hotspot is clicked.\n    wrapper.querySelector('.info-hotspot-header').addEventListener('click', toggle);\n\n    // Hide content when close icon is clicked.\n    modal.querySelector('.info-hotspot-close-wrapper').addEventListener('click', toggle);\n\n    // Prevent touch and scroll events from reaching the parent element.\n    // This prevents the view control logic from interfering with the hotspot.\n    stopTouchAndScrollEventPropagation(wrapper);\n    return wrapper;\n  }\n\n  // Prevent touch and scroll events from reaching the parent element.\n  function stopTouchAndScrollEventPropagation(element, eventList) {\n    var eventList = ['touchstart', 'touchmove', 'touchend', 'touchcancel', 'wheel', 'mousewheel'];\n    for (var i = 0; i < eventList.length; i++) {\n      element.addEventListener(eventList[i], function (event) {\n        event.stopPropagation();\n      });\n    }\n  }\n  function findSceneById(id) {\n    for (var i = 0; i < scenes.length; i++) {\n      if (scenes[i].data.id === id) {\n        return scenes[i];\n      }\n    }\n    return null;\n  }\n  function findSceneDataById(id) {\n    for (var i = 0; i < data.scenes.length; i++) {\n      if (data.scenes[i].id === id) {\n        return data.scenes[i];\n      }\n    }\n    return null;\n  }\n\n  // Display the initial scene.\n  switchScene(scenes[0]);\n})();","map":{"version":3,"names":["Marzipano","window","bowser","screenfull","data","APP_DATA","panoElement","document","querySelector","sceneNameElement","sceneListElement","sceneElements","querySelectorAll","sceneListToggleElement","autorotateToggleElement","fullscreenToggleElement","matchMedia","setMode","mql","matches","body","classList","remove","add","addListener","addEventListener","msie","parseFloat","version","viewerOpts","controls","mouseViewMode","settings","viewer","Viewer","scenes","map","urlPrefix","source","ImageUrlSource","fromString","id","cubeMapPreviewUrl","geometry","CubeGeometry","levels","limiter","RectilinearView","limit","traditional","faceSize","Math","PI","view","initialViewParameters","scene","createScene","pinFirstLevel","linkHotspots","forEach","hotspot","element","createLinkHotspotElement","hotspotContainer","createHotspot","yaw","pitch","infoHotspots","createInfoHotspotElement","autorotate","yawSpeed","targetPitch","targetFov","autorotateEnabled","toggleAutorotate","enabled","fullscreenButton","toggle","on","isFullscreen","toggleSceneList","contains","showSceneList","el","switchScene","hideSceneList","viewUpElement","viewDownElement","viewLeftElement","viewRightElement","viewInElement","viewOutElement","velocity","friction","registerMethod","ElementPressControlMethod","sanitize","s","replace","stopAutorotate","setParameters","switchTo","startAutorotate","updateSceneName","updateSceneList","innerHTML","name","i","length","getAttribute","startMovement","setIdleMovement","stopMovement","Infinity","wrapper","createElement","icon","src","transformProperties","property","style","rotation","findSceneById","target","stopTouchAndScrollEventPropagation","tooltip","findSceneDataById","appendChild","header","iconWrapper","titleWrapper","title","closeWrapper","closeIcon","text","modal","eventList","event","stopPropagation"],"sources":["E:/Git/vr-dalat/src/VR/NhaTho/index.js"],"sourcesContent":["/*\n * Copyright 2016 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\n(function() {\n  var Marzipano = window.Marzipano;\n  var bowser = window.bowser;\n  var screenfull = window.screenfull;\n  var data = window.APP_DATA;\n\n  // Grab elements from DOM.\n  var panoElement = document.querySelector('#pano');\n  var sceneNameElement = document.querySelector('#titleBar .sceneName');\n  var sceneListElement = document.querySelector('#sceneList');\n  var sceneElements = document.querySelectorAll('#sceneList .scene');\n  var sceneListToggleElement = document.querySelector('#sceneListToggle');\n  var autorotateToggleElement = document.querySelector('#autorotateToggle');\n  var fullscreenToggleElement = document.querySelector('#fullscreenToggle');\n\n  // Detect desktop or mobile mode.\n  if (window.matchMedia) {\n    var setMode = function() {\n      if (mql.matches) {\n        document.body.classList.remove('desktop');\n        document.body.classList.add('mobile');\n      } else {\n        document.body.classList.remove('mobile');\n        document.body.classList.add('desktop');\n      }\n    };\n    var mql = matchMedia(\"(max-width: 500px), (max-height: 500px)\");\n    setMode();\n    mql.addListener(setMode);\n  } else {\n    document.body.classList.add('desktop');\n  }\n\n  // Detect whether we are on a touch device.\n  document.body.classList.add('no-touch');\n  window.addEventListener('touchstart', function() {\n    document.body.classList.remove('no-touch');\n    document.body.classList.add('touch');\n  });\n\n  // Use tooltip fallback mode on IE < 11.\n  if (bowser.msie && parseFloat(bowser.version) < 11) {\n    document.body.classList.add('tooltip-fallback');\n  }\n\n  // Viewer options.\n  var viewerOpts = {\n    controls: {\n      mouseViewMode: data.settings.mouseViewMode\n    }\n  };\n\n  // Initialize viewer.\n  var viewer = new Marzipano.Viewer(panoElement, viewerOpts);\n\n  // Create scenes.\n  var scenes = data.scenes.map(function(data) {\n    var urlPrefix = \"tiles\";\n    var source = Marzipano.ImageUrlSource.fromString(\n      urlPrefix + \"/\" + data.id + \"/{z}/{f}/{y}/{x}.jpg\",\n      { cubeMapPreviewUrl: urlPrefix + \"/\" + data.id + \"/preview.jpg\" });\n    var geometry = new Marzipano.CubeGeometry(data.levels);\n\n    var limiter = Marzipano.RectilinearView.limit.traditional(data.faceSize, 100*Math.PI/180, 120*Math.PI/180);\n    var view = new Marzipano.RectilinearView(data.initialViewParameters, limiter);\n\n    var scene = viewer.createScene({\n      source: source,\n      geometry: geometry,\n      view: view,\n      pinFirstLevel: true\n    });\n\n    // Create link hotspots.\n    data.linkHotspots.forEach(function(hotspot) {\n      var element = createLinkHotspotElement(hotspot);\n      scene.hotspotContainer().createHotspot(element, { yaw: hotspot.yaw, pitch: hotspot.pitch });\n    });\n\n    // Create info hotspots.\n    data.infoHotspots.forEach(function(hotspot) {\n      var element = createInfoHotspotElement(hotspot);\n      scene.hotspotContainer().createHotspot(element, { yaw: hotspot.yaw, pitch: hotspot.pitch });\n    });\n\n    return {\n      data: data,\n      scene: scene,\n      view: view\n    };\n  });\n\n  // Set up autorotate, if enabled.\n  var autorotate = Marzipano.autorotate({\n    yawSpeed: 0.03,\n    targetPitch: 0,\n    targetFov: Math.PI/2\n  });\n  if (data.settings.autorotateEnabled) {\n    autorotateToggleElement.classList.add('enabled');\n  }\n\n  // Set handler for autorotate toggle.\n  autorotateToggleElement.addEventListener('click', toggleAutorotate);\n\n  // Set up fullscreen mode, if supported.\n  if (screenfull.enabled && data.settings.fullscreenButton) {\n    document.body.classList.add('fullscreen-enabled');\n    fullscreenToggleElement.addEventListener('click', function() {\n      screenfull.toggle();\n    });\n    screenfull.on('change', function() {\n      if (screenfull.isFullscreen) {\n        fullscreenToggleElement.classList.add('enabled');\n      } else {\n        fullscreenToggleElement.classList.remove('enabled');\n      }\n    });\n  } else {\n    document.body.classList.add('fullscreen-disabled');\n  }\n\n  // Set handler for scene list toggle.\n  sceneListToggleElement.addEventListener('click', toggleSceneList);\n\n  // Start with the scene list open on desktop.\n  if (!document.body.classList.contains('mobile')) {\n    showSceneList();\n  }\n\n  // Set handler for scene switch.\n  scenes.forEach(function(scene) {\n    var el = document.querySelector('#sceneList .scene[data-id=\"' + scene.data.id + '\"]');\n    el.addEventListener('click', function() {\n      switchScene(scene);\n      // On mobile, hide scene list after selecting a scene.\n      if (document.body.classList.contains('mobile')) {\n        hideSceneList();\n      }\n    });\n  });\n\n  // DOM elements for view controls.\n  var viewUpElement = document.querySelector('#viewUp');\n  var viewDownElement = document.querySelector('#viewDown');\n  var viewLeftElement = document.querySelector('#viewLeft');\n  var viewRightElement = document.querySelector('#viewRight');\n  var viewInElement = document.querySelector('#viewIn');\n  var viewOutElement = document.querySelector('#viewOut');\n\n  // Dynamic parameters for controls.\n  var velocity = 0.7;\n  var friction = 3;\n\n  // Associate view controls with elements.\n  var controls = viewer.controls();\n  controls.registerMethod('upElement',    new Marzipano.ElementPressControlMethod(viewUpElement,     'y', -velocity, friction), true);\n  controls.registerMethod('downElement',  new Marzipano.ElementPressControlMethod(viewDownElement,   'y',  velocity, friction), true);\n  controls.registerMethod('leftElement',  new Marzipano.ElementPressControlMethod(viewLeftElement,   'x', -velocity, friction), true);\n  controls.registerMethod('rightElement', new Marzipano.ElementPressControlMethod(viewRightElement,  'x',  velocity, friction), true);\n  controls.registerMethod('inElement',    new Marzipano.ElementPressControlMethod(viewInElement,  'zoom', -velocity, friction), true);\n  controls.registerMethod('outElement',   new Marzipano.ElementPressControlMethod(viewOutElement, 'zoom',  velocity, friction), true);\n\n  function sanitize(s) {\n    return s.replace('&', '&amp;').replace('<', '&lt;').replace('>', '&gt;');\n  }\n\n  function switchScene(scene) {\n    stopAutorotate();\n    scene.view.setParameters(scene.data.initialViewParameters);\n    scene.scene.switchTo();\n    startAutorotate();\n    updateSceneName(scene);\n    updateSceneList(scene);\n  }\n\n  function updateSceneName(scene) {\n    sceneNameElement.innerHTML = sanitize(scene.data.name);\n  }\n\n  function updateSceneList(scene) {\n    for (var i = 0; i < sceneElements.length; i++) {\n      var el = sceneElements[i];\n      if (el.getAttribute('data-id') === scene.data.id) {\n        el.classList.add('current');\n      } else {\n        el.classList.remove('current');\n      }\n    }\n  }\n\n  function showSceneList() {\n    sceneListElement.classList.add('enabled');\n    sceneListToggleElement.classList.add('enabled');\n  }\n\n  function hideSceneList() {\n    sceneListElement.classList.remove('enabled');\n    sceneListToggleElement.classList.remove('enabled');\n  }\n\n  function toggleSceneList() {\n    sceneListElement.classList.toggle('enabled');\n    sceneListToggleElement.classList.toggle('enabled');\n  }\n\n  function startAutorotate() {\n    if (!autorotateToggleElement.classList.contains('enabled')) {\n      return;\n    }\n    viewer.startMovement(autorotate);\n    viewer.setIdleMovement(3000, autorotate);\n  }\n\n  function stopAutorotate() {\n    viewer.stopMovement();\n    viewer.setIdleMovement(Infinity);\n  }\n\n  function toggleAutorotate() {\n    if (autorotateToggleElement.classList.contains('enabled')) {\n      autorotateToggleElement.classList.remove('enabled');\n      stopAutorotate();\n    } else {\n      autorotateToggleElement.classList.add('enabled');\n      startAutorotate();\n    }\n  }\n\n  function createLinkHotspotElement(hotspot) {\n\n    // Create wrapper element to hold icon and tooltip.\n    var wrapper = document.createElement('div');\n    wrapper.classList.add('hotspot');\n    wrapper.classList.add('link-hotspot');\n\n    // Create image element.\n    var icon = document.createElement('img');\n    icon.src = 'img/link.png';\n    icon.classList.add('link-hotspot-icon');\n\n    // Set rotation transform.\n    var transformProperties = [ '-ms-transform', '-webkit-transform', 'transform' ];\n    for (var i = 0; i < transformProperties.length; i++) {\n      var property = transformProperties[i];\n      icon.style[property] = 'rotate(' + hotspot.rotation + 'rad)';\n    }\n\n    // Add click event handler.\n    wrapper.addEventListener('click', function() {\n      switchScene(findSceneById(hotspot.target));\n    });\n\n    // Prevent touch and scroll events from reaching the parent element.\n    // This prevents the view control logic from interfering with the hotspot.\n    stopTouchAndScrollEventPropagation(wrapper);\n\n    // Create tooltip element.\n    var tooltip = document.createElement('div');\n    tooltip.classList.add('hotspot-tooltip');\n    tooltip.classList.add('link-hotspot-tooltip');\n    tooltip.innerHTML = findSceneDataById(hotspot.target).name;\n\n    wrapper.appendChild(icon);\n    wrapper.appendChild(tooltip);\n\n    return wrapper;\n  }\n\n  function createInfoHotspotElement(hotspot) {\n\n    // Create wrapper element to hold icon and tooltip.\n    var wrapper = document.createElement('div');\n    wrapper.classList.add('hotspot');\n    wrapper.classList.add('info-hotspot');\n\n    // Create hotspot/tooltip header.\n    var header = document.createElement('div');\n    header.classList.add('info-hotspot-header');\n\n    // Create image element.\n    var iconWrapper = document.createElement('div');\n    iconWrapper.classList.add('info-hotspot-icon-wrapper');\n    var icon = document.createElement('img');\n    icon.src = 'img/info.png';\n    icon.classList.add('info-hotspot-icon');\n    iconWrapper.appendChild(icon);\n\n    // Create title element.\n    var titleWrapper = document.createElement('div');\n    titleWrapper.classList.add('info-hotspot-title-wrapper');\n    var title = document.createElement('div');\n    title.classList.add('info-hotspot-title');\n    title.innerHTML = hotspot.title;\n    titleWrapper.appendChild(title);\n\n    // Create close element.\n    var closeWrapper = document.createElement('div');\n    closeWrapper.classList.add('info-hotspot-close-wrapper');\n    var closeIcon = document.createElement('img');\n    closeIcon.src = 'img/close.png';\n    closeIcon.classList.add('info-hotspot-close-icon');\n    closeWrapper.appendChild(closeIcon);\n\n    // Construct header element.\n    header.appendChild(iconWrapper);\n    header.appendChild(titleWrapper);\n    header.appendChild(closeWrapper);\n\n    // Create text element.\n    var text = document.createElement('div');\n    text.classList.add('info-hotspot-text');\n    text.innerHTML = hotspot.text;\n\n    // Place header and text into wrapper element.\n    wrapper.appendChild(header);\n    wrapper.appendChild(text);\n\n    // Create a modal for the hotspot content to appear on mobile mode.\n    var modal = document.createElement('div');\n    modal.innerHTML = wrapper.innerHTML;\n    modal.classList.add('info-hotspot-modal');\n    document.body.appendChild(modal);\n\n    var toggle = function() {\n      wrapper.classList.toggle('visible');\n      modal.classList.toggle('visible');\n    };\n\n    // Show content when hotspot is clicked.\n    wrapper.querySelector('.info-hotspot-header').addEventListener('click', toggle);\n\n    // Hide content when close icon is clicked.\n    modal.querySelector('.info-hotspot-close-wrapper').addEventListener('click', toggle);\n\n    // Prevent touch and scroll events from reaching the parent element.\n    // This prevents the view control logic from interfering with the hotspot.\n    stopTouchAndScrollEventPropagation(wrapper);\n\n    return wrapper;\n  }\n\n  // Prevent touch and scroll events from reaching the parent element.\n  function stopTouchAndScrollEventPropagation(element, eventList) {\n    var eventList = [ 'touchstart', 'touchmove', 'touchend', 'touchcancel',\n                      'wheel', 'mousewheel' ];\n    for (var i = 0; i < eventList.length; i++) {\n      element.addEventListener(eventList[i], function(event) {\n        event.stopPropagation();\n      });\n    }\n  }\n\n  function findSceneById(id) {\n    for (var i = 0; i < scenes.length; i++) {\n      if (scenes[i].data.id === id) {\n        return scenes[i];\n      }\n    }\n    return null;\n  }\n\n  function findSceneDataById(id) {\n    for (var i = 0; i < data.scenes.length; i++) {\n      if (data.scenes[i].id === id) {\n        return data.scenes[i];\n      }\n    }\n    return null;\n  }\n\n  // Display the initial scene.\n  switchScene(scenes[0]);\n\n})();\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}