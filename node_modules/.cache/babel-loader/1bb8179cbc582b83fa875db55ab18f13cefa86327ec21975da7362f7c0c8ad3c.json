{"ast":null,"code":"/*\n * Copyright 2016 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nvar global = require('../util/global');\nvar eventEmitter = require('minimal-event-emitter');\nvar clearOwnProperties = require('../util/clearOwnProperties');\nvar propertyMap = {\n  HTMLImageElement: ['naturalWidth', 'naturalHeight'],\n  HTMLCanvasElement: ['width', 'height'],\n  ImageBitmap: ['width', 'height']\n};\n\n/**\n * @class StaticAsset\n * @implements Asset\n * @classdesc\n *\n * An {@link Asset} whose pixel contents never change.\n *\n * @param {HTMLImageElement|HTMLCanvasElement|ImageBitmap} element The\n *     underlying pixel source.\n * @throws If the pixel source is unsupported.\n */\nfunction StaticAsset(element) {\n  var supported = false;\n  for (var type in propertyMap) {\n    if (global[type] && element instanceof global[type]) {\n      supported = true;\n      this._widthProp = propertyMap[type][0];\n      this._heightProp = propertyMap[type][1];\n      break;\n    }\n  }\n  if (!supported) {\n    throw new Error('Unsupported pixel source');\n  }\n  this._element = element;\n}\neventEmitter(StaticAsset);\n\n/**\n * Destructor.\n */\nStaticAsset.prototype.destroy = function () {\n  clearOwnProperties(this);\n};\nStaticAsset.prototype.element = function () {\n  return this._element;\n};\nStaticAsset.prototype.width = function () {\n  return this._element[this._widthProp];\n};\nStaticAsset.prototype.height = function () {\n  return this._element[this._heightProp];\n};\nStaticAsset.prototype.timestamp = function () {\n  return 0;\n};\nStaticAsset.prototype.isDynamic = function () {\n  return false;\n};\nmodule.exports = StaticAsset;","map":{"version":3,"names":["global","require","eventEmitter","clearOwnProperties","propertyMap","HTMLImageElement","HTMLCanvasElement","ImageBitmap","StaticAsset","element","supported","type","_widthProp","_heightProp","Error","_element","prototype","destroy","width","height","timestamp","isDynamic","module","exports"],"sources":["E:/VR/node_modules/marzipano/src/assets/Static.js"],"sourcesContent":["/*\n * Copyright 2016 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\nvar global = require('../util/global');\nvar eventEmitter = require('minimal-event-emitter');\nvar clearOwnProperties = require('../util/clearOwnProperties');\n\nvar propertyMap = {\n  HTMLImageElement: ['naturalWidth', 'naturalHeight'],\n  HTMLCanvasElement: ['width', 'height'],\n  ImageBitmap: ['width', 'height']\n};\n\n/**\n * @class StaticAsset\n * @implements Asset\n * @classdesc\n *\n * An {@link Asset} whose pixel contents never change.\n *\n * @param {HTMLImageElement|HTMLCanvasElement|ImageBitmap} element The\n *     underlying pixel source.\n * @throws If the pixel source is unsupported.\n */\nfunction StaticAsset(element) {\n  var supported = false;\n  for (var type in propertyMap) {\n    if (global[type] && element instanceof global[type]) {\n      supported = true;\n      this._widthProp = propertyMap[type][0];\n      this._heightProp = propertyMap[type][1];\n      break;\n    }\n  }\n  if (!supported) {\n    throw new Error('Unsupported pixel source');\n  }\n\n  this._element = element;\n}\n\neventEmitter(StaticAsset);\n\n/**\n * Destructor.\n */\nStaticAsset.prototype.destroy = function() {\n  clearOwnProperties(this);\n};\n\nStaticAsset.prototype.element = function() {\n  return this._element;\n};\n\nStaticAsset.prototype.width = function() {\n  return this._element[this._widthProp];\n};\n\nStaticAsset.prototype.height = function() {\n  return this._element[this._heightProp];\n};\n\nStaticAsset.prototype.timestamp = function() {\n  return 0;\n};\n\nStaticAsset.prototype.isDynamic = function() {\n  return false;\n};\n\nmodule.exports = StaticAsset;\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;;AAEZ,IAAIA,MAAM,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AACtC,IAAIC,YAAY,GAAGD,OAAO,CAAC,uBAAuB,CAAC;AACnD,IAAIE,kBAAkB,GAAGF,OAAO,CAAC,4BAA4B,CAAC;AAE9D,IAAIG,WAAW,GAAG;EAChBC,gBAAgB,EAAE,CAAC,cAAc,EAAE,eAAe,CAAC;EACnDC,iBAAiB,EAAE,CAAC,OAAO,EAAE,QAAQ,CAAC;EACtCC,WAAW,EAAE,CAAC,OAAO,EAAE,QAAQ;AACjC,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASC,WAAWA,CAACC,OAAO,EAAE;EAC5B,IAAIC,SAAS,GAAG,KAAK;EACrB,KAAK,IAAIC,IAAI,IAAIP,WAAW,EAAE;IAC5B,IAAIJ,MAAM,CAACW,IAAI,CAAC,IAAIF,OAAO,YAAYT,MAAM,CAACW,IAAI,CAAC,EAAE;MACnDD,SAAS,GAAG,IAAI;MAChB,IAAI,CAACE,UAAU,GAAGR,WAAW,CAACO,IAAI,CAAC,CAAC,CAAC,CAAC;MACtC,IAAI,CAACE,WAAW,GAAGT,WAAW,CAACO,IAAI,CAAC,CAAC,CAAC,CAAC;MACvC;IACF;EACF;EACA,IAAI,CAACD,SAAS,EAAE;IACd,MAAM,IAAII,KAAK,CAAC,0BAA0B,CAAC;EAC7C;EAEA,IAAI,CAACC,QAAQ,GAAGN,OAAO;AACzB;AAEAP,YAAY,CAACM,WAAW,CAAC;;AAEzB;AACA;AACA;AACAA,WAAW,CAACQ,SAAS,CAACC,OAAO,GAAG,YAAW;EACzCd,kBAAkB,CAAC,IAAI,CAAC;AAC1B,CAAC;AAEDK,WAAW,CAACQ,SAAS,CAACP,OAAO,GAAG,YAAW;EACzC,OAAO,IAAI,CAACM,QAAQ;AACtB,CAAC;AAEDP,WAAW,CAACQ,SAAS,CAACE,KAAK,GAAG,YAAW;EACvC,OAAO,IAAI,CAACH,QAAQ,CAAC,IAAI,CAACH,UAAU,CAAC;AACvC,CAAC;AAEDJ,WAAW,CAACQ,SAAS,CAACG,MAAM,GAAG,YAAW;EACxC,OAAO,IAAI,CAACJ,QAAQ,CAAC,IAAI,CAACF,WAAW,CAAC;AACxC,CAAC;AAEDL,WAAW,CAACQ,SAAS,CAACI,SAAS,GAAG,YAAW;EAC3C,OAAO,CAAC;AACV,CAAC;AAEDZ,WAAW,CAACQ,SAAS,CAACK,SAAS,GAAG,YAAW;EAC3C,OAAO,KAAK;AACd,CAAC;AAEDC,MAAM,CAACC,OAAO,GAAGf,WAAW"},"metadata":{},"sourceType":"script","externalDependencies":[]}